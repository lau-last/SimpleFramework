{% extends 'base.html.twig' %}

{% block title %}Hello MainController!{% endblock %}

{% block body %}
    <div class="container-sm">
        <div class="d-flex fd-column gap-5">

            {# Intro #}
            <article class="card p-2">
                <div class="card-header">
                    <h2>üîî Alert</h2>
                </div>
            </article>

            {# Example #}
            <article class="card p-2">
                <div class="card-header">
                    <h2>üí† Examples</h2>
                </div>
                <div class="card-body">
                    <div class="btn-group">
                        <button class="btn btn-success" onclick="showAlert('success')">Alert success</button>
                        <button class="btn btn-info" onclick="showAlert('info')">Alert info</button>
                        <button class="btn btn-warning" onclick="showAlert('warning')">Alert warning</button>
                        <button class="btn btn-danger" onclick="showAlert('danger')">Alert danger</button>
                    </div>
                    <div id="alert-demo"></div>
                </div>
            </article>

            {# HTML Code #}
            <article class="card p-2">
                <div class="card-header">
                    <h2>üíª HTML Code</h2>
                </div>
                <div class="card-body">
                    <div class="position-relative">
                        <button class="btn btn-primary position-top-right z-1 mt-1 mr-1"
                                onclick="copyCode('code-alert', this);">Copy
                        </button>
                        <div data-js="code" id="code-alert" class="container-code overflow-auto">
                            <div class="alert-container">
                                <div class="alert alert-success" data-js="alert" role="status" aria-live="polite">
                                    <div class="alert-header d-flex jc-between">
                                        <h2>Alert success</h2>
                                        <button class="close btn btn-success">X</button>
                                    </div>
                                    <div class="alert-body">
                                        <p>Lorem ipsum dolor sit amet.</p>
                                    </div>
                                    <div class="alert-footer">
                                        <small>Some footer if you need it</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </article>

            {# How to use #}
            <article class="card p-2">
                <div class="card-header">
                    <h2>üß© How to use</h2>
                </div>
                <div class="card-body">
                    <p class="p-1">
                        Add <code class="text-bold text-primary">data-js="alert"</code> to the alert.
                        To let users close it manually, include a button with the
                        <code class="text-bold text-primary">.close</code> class inside the alert.
                        The script removes the alert automatically on button click or when its animation ends.
                    </p>
                </div>
            </article>

            {# Colors #}
            <article class="card p-2">
                <div class="card-header">
                    <h2>üé® Colors</h2>
                </div>
                <div class="card-body">
                    <p class="p-1">
                        Apply a color by adding <code class="text-bold text-primary">.alert-{color}</code> to the alert.
                        Each variant changes the background, border, and text according to the selected color.
                    </p>
                </div>
            </article>

            {# Positioning #}
            <article class="card p-2">
                <div class="card-header">
                    <h2>üìç Positioning</h2>
                </div>
                <div class="card-body">
                    <p class="p-1">
                        Wrap alerts in an <code class="text-bold text-primary">.alert-container</code>.
                        If no position class is added to the container, alerts use <code class="text-bold text-primary">.top</code>
                        and <code class="text-bold text-primary">.center</code> by default.
                    </p>

                    <div class="row mt-2">
                        <div class="col-12 col-4-xs">
                            <div class="card p-2"><code class="text-bold text-primary">.top</code></div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2"><code class="text-bold text-primary">.bottom</code></div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2"><code class="text-bold text-primary">.left</code></div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2"><code class="text-bold text-primary">.center</code></div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2"><code class="text-bold text-primary">.right</code></div>
                        </div>
                    </div>
                </div>
            </article>

            {# Accessibility #}
            <article class="card p-2">
                <div class="card-header">
                    <h2>üìå Accessibility</h2>
                </div>
                <div class="card-body">
                    <p class="p-1">
                        For accessibility, give the alert a suitable role like
                        <code class="text-bold text-primary">role="status"</code> and use
                        <code class="text-bold text-primary">aria-live="polite"</code> so screen readers announce it when it appears.
                    </p>
                </div>
            </article>

            {# Close button #}
            <article class="card p-2">
                <div class="card-header">
                    <h2>üìå Close button</h2>
                </div>
                <div class="card-body">
                    <p class="p-1">
                        To let users manually dismiss an alert before the animation ends, add a button with the <code class="text-bold text-primary">.close</code> class inside the alert.
                    </p>
                </div>
            </article>

            {# Variables #}
            <article class="card p-2">
                <div class="card-header">
                    <h2>‚öôÔ∏è Variables CSS</h2>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                            <tr class="text-left">
                                <th>Variable</th>
                                <th>Description</th>
                            </tr>
                            </thead>
                            <tbody>

                            <tr>
                                <td><code class="text-bold text-primary">--alert-animation</code></td>
                                <td>Animation used to show and/or hide the alert.</td>
                            </tr>

                            <tr>
                                <td><code class="text-bold text-primary">--alert-bg-color</code></td>
                                <td>Background color of the alert (default).</td>
                            </tr>

                            <tr>
                                <td><code class="text-bold text-primary">--alert-body-padding</code></td>
                                <td>Padding inside the alert body.</td>
                            </tr>

                            <tr>
                                <td><code class="text-bold text-primary">--alert-border-color</code></td>
                                <td>Color of the alert border (default).</td>
                            </tr>

                            <tr>
                                <td><code class="text-bold text-primary">--alert-border-radius</code></td>
                                <td>Corner radius of the alert.</td>
                            </tr>

                            <tr>
                                <td><code class="text-bold text-primary">--alert-border-style</code></td>
                                <td>Border style of the alert (solid, dashed, etc.).</td>
                            </tr>

                            <tr>
                                <td><code class="text-bold text-primary">--alert-border-width</code></td>
                                <td>Thickness of the alert border.</td>
                            </tr>

                            <tr>
                                <td><code class="text-bold text-primary">--alert-box-shadow</code></td>
                                <td>Shadow applied to the alert.</td>
                            </tr>

                            <tr>
                                <td><code class="text-bold text-primary">--alert-container-padding-inline</code></td>
                                <td>Horizontal padding inside the <code>.alert-container</code>.</td>
                            </tr>

                            <tr>
                                <td><code class="text-bold text-primary">--alert-footer-padding</code></td>
                                <td>Padding inside the alert footer.</td>
                            </tr>

                            <tr>
                                <td><code class="text-bold text-primary">--alert-gap</code></td>
                                <td>Gap between alerts inside the container.</td>
                            </tr>

                            <tr>
                                <td><code class="text-bold text-primary">--alert-header-padding</code></td>
                                <td>Padding inside the alert header.</td>
                            </tr>

                            <tr>
                                <td><code class="text-bold text-primary">--alert-margin</code></td>
                                <td>Outer margin around each alert.</td>
                            </tr>

                            <tr>
                                <td><code class="text-bold text-primary">--alert-width</code></td>
                                <td>Width of the alert (e.g. 100% or fixed value).</td>
                            </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
            </article>

        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script>
        const alertMessages = {
            danger: {
                title: "Alert danger",
                body: "‚ö†Ô∏è An error has occurred!",
                footer: "Please check the issue."
            },
            success: {
                title: "Alert success",
                body: "‚úì Operation successful",
                footer: "Everything went well."
            },
            warning: {
                title: "Alert warning",
                body: "‚ö° Warning, action required",
                footer: "Be careful."
            },
            info: {
                title: "Alert info",
                body: "‚ÑπÔ∏è Important information",
                footer: "For your information."
            }
        };

        function showAlert(type) {
            if (!alertMessages[type]) {
                console.error("Unknown alert type:", type);
                return;
            }

            const container = document.getElementById('alert-demo');
            if (!container) {
                console.error("Missing #alert-demo container");
                return;
            }

            // Main wrapper
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;

            // HEADER
            const header = document.createElement('div');
            header.className = 'alert-header d-flex jc-between';

            const h2 = document.createElement('h3');
            h2.textContent = alertMessages[type].title;

            const button = document.createElement('button');
            button.className = `close btn btn-${type}`;
            button.textContent = 'X';

            header.appendChild(h2);
            header.appendChild(button);

            // BODY
            const body = document.createElement('div');
            body.className = 'alert-body';

            const p = document.createElement('p');
            p.textContent = alertMessages[type].body;

            body.appendChild(p);

            // FOOTER
            const footer = document.createElement('div');
            footer.className = 'alert-footer';

            const small = document.createElement('small');
            small.textContent = alertMessages[type].footer;

            footer.appendChild(small);

            // Assemble
            alert.appendChild(header);
            alert.appendChild(body);
            alert.appendChild(footer);
            container.appendChild(alert);

            // Close action
            button.addEventListener('click', () => {
                alert.remove();
            });

            // Optional auto-remove if you keep animations
            alert.addEventListener('animationend', () => {
                alert.remove();
            });
        }
    </script>
{% endblock %}
