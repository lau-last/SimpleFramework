{% extends 'base.html.twig' %}

{% block title %}Hello MainController!{% endblock %}

{% block body %}
    <div class="container-sm">
        <div class="d-flex fd-column gap-5">

            {# Intro #}
            <div class="card p-2">
                <div class="card-header">
                    <h2>üîî Alert</h2>
                </div>
            </div>

            {# Example #}
            <div class="card p-2">
                <div class="card-header">
                    <h2>üí† Examples</h2>
                </div>
                <div class="card-body">
                    <div class="btn-group">
                        <button class="btn btn-success" onclick="showAlert('success')">Alert success</button>
                        <button class="btn btn-info" onclick="showAlert('info')">Alert info</button>
                        <button class="btn btn-warning" onclick="showAlert('warning')">Alert warning</button>
                        <button class="btn btn-danger" onclick="showAlert('danger')">Alert danger</button>
                    </div>
                    <div id="alert-demo"></div>
                </div>
            </div>

            {# HTML Code #}
            <div class="card p-2">
                <div class="card-header">
                    <h2>üíª HTML Code</h2>
                </div>
                <div class="card-body">
                    <div class="position-relative">
                        <button class="btn btn-primary position-top-right z-1 mt-1 mr-1"
                                onclick="copyCode('code-alert', this);">Copy
                        </button>
                        <div data-js="code" id="code-alert" class="container-code overflow-auto">
                            <div class="alert-container">
                                <div class="alert alert-success" data-js="alert" role="status" aria-live="polite">
                                    <div class="alert-header d-flex jc-between">
                                        <h2>Alert success</h2>
                                        <button class="close btn btn-success">X</button>
                                    </div>
                                    <div class="alert-body">
                                        <p>Lorem ipsum dolor sit amet.</p>
                                    </div>
                                    <div class="alert-footer">
                                        <small>Some footer if you need it</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {# Positioning #}
            <div class="card p-2">
                <div class="card-header">
                    <h2>üìç Positioning</h2>
                </div>
                <div class="card-body">
                    <p class="p-1">
                        Wrap your alerts in <code class="text-bold text-primary">.alert-container</code>.
                        Add one position class to choose where alerts appear.
                        If you do not set a position class, alerts use
                        <code class="text-bold text-primary">.top-center</code> by default.
                    </p>
                    <div class="row mt-2">
                        <div class="col-12 col-4-xs">
                            <div class="card p-2">
                                <code class="text-bold text-primary">.top-left</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2">
                                <code class="text-bold text-primary">.top-center</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2">
                                <code class="text-bold text-primary">.top-right</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2">
                                <code class="text-bold text-primary">.bottom-left</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2">
                                <code class="text-bold text-primary">.bottom-center</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2">
                                <code class="text-bold text-primary">.bottom-right</code>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {# Color #}
            <div class="card p-2">
                <div class="card-header">
                    <h2>üé® Color</h2>
                </div>
                <div class="card-body">
                    <p class="p-1">
                        Use <code class="text-bold text-primary">.alert-{color}</code> to set both the background and
                        the matching text color, based on your theme variables.
                    </p>
                    <div class="row mt-2">
                        <div class="col-12 col-4-xs">
                            <div class="card p-2 alert-primary">
                                <code class="text-bold">.alert-primary</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2 alert-secondary">
                                <code class="text-bold">.alert-secondary</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2 alert-tertiary">
                                <code class="text-bold">.alert-tertiary</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2 alert-success">
                                <code class="text-bold">.alert-success</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2 alert-danger">
                                <code class="text-bold">.alert-danger</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2 alert-warning">
                                <code class="text-bold">.alert-warning</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2 alert-info">
                                <code class="text-bold">.alert-info</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2 alert-light">
                                <code class="text-bold">.alert-light</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2 alert-dark">
                                <code class="text-bold">.alert-dark</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2 alert-white">
                                <code class="text-bold">.alert-white</code>
                            </div>
                        </div>
                        <div class="col-12 col-4-xs">
                            <div class="card p-2 alert-black">
                                <code class="text-bold">.alert-black</code>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {# Note about close button #}
            <div class="card p-2">
                <div class="card-header">
                    <h2>üìå Note close button</h2>
                </div>
                <div class="card-body">
                    <p class="p-1">
                        Add a button with class <code class="text-bold text-primary">.close</code> inside the alert.
                        When the user clicks this button, the alert is removed by JavaScript.
                        The alert element must have <code class="text-bold text-primary">data-js="alert"</code>
                        so the script can find and remove it.
                    </p>
                </div>
            </div>

            {# Note about animation #}
            <div class="card p-2">
                <div class="card-header">
                    <h2>üìå Note animation</h2>
                </div>
                <div class="card-body">
                    <p class="p-1">
                        The script listens to the <code class="text-bold text-primary">animationend</code> event on
                        elements with <code class="text-bold text-primary">data-js="alert"</code>.
                        When the animation ends, the alert is removed.
                        Use <code class="text-bold text-primary">--alert-animation</code> to set the CSS animation
                        (for example a fade-out). If you do not set an animation, alerts will not auto-remove.
                    </p>
                </div>
            </div>

            {# Varibles #}
            <div class="card p-2">
                <div class="card-header">
                    <h2>‚öôÔ∏è Variables CSS</h2>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                            <tr class="text-left">
                                <th>Variable</th>
                                <th>Description</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td><code class="text-bold text-primary">--alert-padding</code></td>
                                <td>Inner padding of the alert.</td>
                            </tr>
                            <tr>
                                <td><code class="text-bold text-primary">--alert-margin</code></td>
                                <td>Outer margin between alerts.</td>
                            </tr>
                            <tr>
                                <td><code class="text-bold text-primary">--alert-border-radius</code></td>
                                <td>Corner radius of the alert.</td>
                            </tr>
                            <tr>
                                <td><code class="text-bold text-primary">--alert-border-color</code></td>
                                <td>Color of the alert border.</td>
                            </tr>
                            <tr>
                                <td><code class="text-bold text-primary">--alert-border-style</code></td>
                                <td>Border style (solid, dashed, etc.).</td>
                            </tr>
                            <tr>
                                <td><code class="text-bold text-primary">--alert-border-width</code></td>
                                <td>Thickness of the alert border.</td>
                            </tr>
                            <tr>
                                <td><code class="text-bold text-primary">--bg-color</code></td>
                                <td>Background color of the alert.</td>
                            </tr>
                            <tr>
                                <td><code class="text-bold text-primary">--alert-width</code></td>
                                <td>Width of the alert (e.g. 100% or a fixed value).</td>
                            </tr>
                            <tr>
                                <td><code class="text-bold text-primary">--alert-box-shadow</code></td>
                                <td>Shadow applied to the alert.</td>
                            </tr>
                            <tr>
                                <td><code class="text-bold text-primary">--alert-animation</code></td>
                                <td>Animation used when showing or hiding the alert.</td>
                            </tr>
                            <tr>
                                <td><code class="text-bold text-primary">--alert-container-padding-inline</code></td>
                                <td>Horizontal padding inside <code
                                        class="text-bold text-primary">.alert-container</code>.
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script>
        const alertMessages = {
            danger: {
                title: "Alert danger",
                body: "‚ö†Ô∏è An error has occurred!",
                footer: "Please check the issue."
            },
            success: {
                title: "Alert success",
                body: "‚úì Operation successful",
                footer: "Everything went well."
            },
            warning: {
                title: "Alert warning",
                body: "‚ö° Warning, action required",
                footer: "Be careful."
            },
            info: {
                title: "Alert info",
                body: "‚ÑπÔ∏è Important information",
                footer: "For your information."
            }
        };

        function showAlert(type) {
            if (!alertMessages[type]) {
                console.error("Unknown alert type:", type);
                return;
            }

            const container = document.getElementById('alert-demo');
            if (!container) {
                console.error("Missing #alert-demo container");
                return;
            }

            // Main wrapper
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;

            // HEADER
            const header = document.createElement('div');
            header.className = 'alert-header d-flex jc-between';

            const h2 = document.createElement('h3');
            h2.textContent = alertMessages[type].title;

            const button = document.createElement('button');
            button.className = `close btn btn-${type}`;
            button.textContent = 'X';

            header.appendChild(h2);
            header.appendChild(button);

            // BODY
            const body = document.createElement('div');
            body.className = 'alert-body';

            const p = document.createElement('p');
            p.textContent = alertMessages[type].body;

            body.appendChild(p);

            // FOOTER
            const footer = document.createElement('div');
            footer.className = 'alert-footer';

            const small = document.createElement('small');
            small.textContent = alertMessages[type].footer;

            footer.appendChild(small);

            // Assemble
            alert.appendChild(header);
            alert.appendChild(body);
            alert.appendChild(footer);
            container.appendChild(alert);

            // Close action
            button.addEventListener('click', () => {
                alert.remove();
            });

            // Optional auto-remove if you keep animations
            alert.addEventListener('animationend', () => {
                alert.remove();
            });
        }
    </script>
{% endblock %}
